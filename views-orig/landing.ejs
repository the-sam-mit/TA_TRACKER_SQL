<!-- views/landing.ejs  | lists all courses for every type of user accordingly-->
<!doctype html>
<html>
<head>
	<title>Node Authentication</title>
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
	
	<style>
		body 		{ padding-top:80px; word-wrap:break-word; }
		.sidenav 
{
    height: 100%; /* Full-height: remove this if you want "auto" height */
    width: 300px; /* Set the width of the sidebar */
    position: fixed; /* Fixed Sidebar (stay in place on scroll) */
    z-index: 1; /* Stay on top */
    top: 0; /* Stay at the top */
    left: 0;
    background-color: #007bffe0; /* Black */
    overflow-x: hidden; /* Disable horizontal scroll */
   
}

 .sidenav > .nav-header {
   background-color: #007bffe0;
   font-size: 30px;
   line-height: 102px;
   text-align: center;
   margin-bottom: 20px;
   color: #eee;
 }
 .sidenav > .nav-header > .logoimg{
  padding: 60px 0px 30px 120px;
  height: 50px;
  width: 40px;
} 

 .sidenav > .nav-header > a{
  color: #fff;
  display: block;
  text-decoration: none;
}

.sidenav > .nav-header > a:hover{
  color: #fff;
}
   
  
  /* The navigation menu links */
  .sidenav a 
  {
    padding: 16px 8px 6px 16px;
    text-decoration: none;
    font-size: 25px;
    color: #eee;
    display: block;
    text-align: center;
  }
  
  /* When you mouse over the navigation links, change their color */
  .sidenav a:hover {
    background-color: #5ea0e6e0;
  }
  .sidenav a.active-page {
    background-color: #81afe0e0;
  }
  
  /* Style page content */
  .main {
    margin-left: 160px; /* Same as the width of the sidebar */
    padding: 0px 10px;
  }
  
  /* On smaller screens, where height is less than 450px, change the style of the sidebar (less padding and a smaller font size) */
  @media screen and (max-height: 450px) {
    .sidenav {padding-top: 15px;}
    .sidenav a {font-size: 18px;}
  }

  .container1{
      background-color: #fafafa;
      height:100%;
      position: relative;
      margin-left: 300px;
  }
  .my-custom-scrollbar {
position: relative;
height: 200px;
overflow: auto;
}
.table-wrapper-scroll-y {
display: block;
}
	</style>
</head>
<body>
	<%	if(error && error.length>0){ %>
		<div class="container">
			<div class="alert alert-danger" role="alert">
				<h4><%= error %></h4>
			</div>
		</div>
	<%	} %>
	<% if(success && success.length>0){ %>	
		<div class="container">
			<div class="alert alert-success" role="alert">
				<h4><%= success %></h4>
			</div>
        </div>
	<%} %> 
	<% if(warning && warning.length>0){ %>	
		<div class="container">
			<div class="alert alert-warning" role="alert">
				<h4><%= warning %></h4>
			</div>
        </div>
	<%} %> 
	


		<div class="container">
				<div class="sidenav" style="margin-left: 0px;width:300px"> 
								 <div class="nav-header">
									 <div class="nav-title" style="margin-top: 1px;margin-bottom: 1px;">
										  <%=user.type%>
								  </div>
								 <div class="logoimg">
									 <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
									  width="50" height="50" viewBox="0 0 172 172";
									style=" fill:#000000;margin-bottom:15px"><g fill="none" fill-rule="nonzero" 
									stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" 
									stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" 
									font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M89.1175,11.2875c-32.12906,0.72563 -35.77062,24.20094 -28.9175,51.2775c-1.075,0.72563 -3.26531,3.30563 -2.9025,7.6325c1.075,7.94156 4.32688,10.105 6.1275,10.105c0.72563,5.41531 3.27875,11.11281 5.805,14.7275c1.80063,2.52625 2.4725,5.77813 2.4725,9.03c0,2.88906 0.04031,1.04813 -0.3225,4.3c-0.36281,1.04813 -0.87344,2.00219 -1.505,2.9025c0.73906,2.78156 4.99875,16.0175 19.565,16.0175c14.91563,0 18.92,-14.28406 19.35,-16.0175c-0.67187,-0.88687 -1.20937,-1.85437 -1.6125,-2.9025c-0.36281,-3.96406 -0.43,-2.12312 -0.43,-5.375c0,-2.88906 1.12875,-5.36156 2.58,-7.525c2.52625,-3.61469 4.97188,-9.74219 5.6975,-15.1575c2.17688,0 5.40188,-2.16344 6.1275,-10.105c0.36281,-4.32687 -1.34375,-6.90687 -2.795,-7.6325c3.61469,-10.105 10.41406,-41.46812 -12.685,-44.72c-2.52625,-4.32687 -8.61344,-6.5575 -16.555,-6.5575zM114.4875,116.1c-2.88906,7.68625 -10.535,18.06 -25.0475,18.06c-14.52594,0 -22.145,-10.18562 -25.155,-17.9525c-14.2975,8.80156 -43.43,11.5025 -43.43,42.0325h137.17c0,-31.30937 -28.99812,-33.45937 -43.5375,-42.14z"></path></g></g></svg>
								 </div> 
									<div class="nav-title" style="margin-top: 4px;margin-bottom: 1px;">
										 <%=user.username%>
								 </div>
								 <div class="nav-title" style="margin-top: 4px;margin-bottom: 1px;">
										 <%=user.name%>
								 </div>
									
								   </div>
					 <a href="/dash/<%=userDetails._id%>">  Home </a>
					 <a href="/user/profile/<%=userDetails._id%>" class="active-page"> Profile</a>
					 <a href="#">History</a>
					 <a href="/dash/faq/<%=userDetails._id%>"> FAQ </a>
					 <a href="/logout">Logout</a>
				 </div>
			 </div>

<div class="container1">
	<!----div class="page-header text-center">
	<h1><span class="fa fa-anchor"></span> Course List</h1>
		<a href="/logout" class="btn btn-default btn-sm">Logout</a>
	</div-->
	<%// PROFESSOR ADD COURSE %>
	<% if(user.type === "Professor"){ %>
		<div class = "container">
			<h1>Professor Course</h1>

			<div class="jumbotron" style="text-align: center">
				<h1 class="display-3">Add new Course</h1>
				<br>
				<a href="/courses/new"><button  class="btn btn-lg  btn-primary">Add Course</button></a>
			</div>
			<div class="row">
				<% courseList.forEach(function(data){ %>
						<div class="col md-3 sm-4 lg-6" >   
							<div id="card-des" class="card" >
								<img  class="card-img-top" src= "https://leverageedu.com/blog/wp-content/uploads/2019/08/Course-after-MBA.png" width="190px" height="150px" alt="course"> 
								<div class="card-body">  
										<h4 class="card-text"> <%= data.name %></h4>		
										<h5 class="card-text"> <%= data.semeseter %></h5>		
										<p class="card-text"> <%= data.year %></p>		
										<p class="card-text"> <%= data.stream %></p>		
										<p class="card-text"> <%= data.code %></p>		
									<a href="/courses/<%=data.id%>"><button class="btn btn-md btn-primary">Visit</button></a>	
								</div>
							</div>
						</div>
						<br>
				<%});%>
				<br>
			</div>
		</div>
	<% } %>
	<%// Asisstant %>
	<% if(user.type === "Asisstant"){ %>
		<div class = "container">
			<h1>Asisstant Course</h1>
			<h3>Joined Course</h3>
			<div class="row">
				<% courseListJoined.forEach(function(data){ %>
						<div class="col md-3 sm-4 lg-6" >   
							<div id="card-des" class="card" >
								<img  class="card-img-top" src= "https://leverageedu.com/blog/wp-content/uploads/2019/08/Course-after-MBA.png" width="190px" height="150px" alt="course"> 
								<div class="card-body">  
										<h4 class="card-text"> <%= data.name %></h4>		
										<h5 class="card-text"> <%= data.semeseter %></h5>		
										<p class="card-text"> <%= data.year %></p>		
										<p class="card-text"> <%= data.stream %></p>		
										<p class="card-text"> <%= data.code %></p>		
									<a href="/courses/<%=data.id%>"><button class="btn btn-md btn-primary">Visit</button></a>	
								</div>
							</div>
						</div>
						<br>
				<%});%>
				<br>
			</div>
			<h3>Available Course</h3>
			<div class="row">
				<% courseListAvail.forEach(function(data){ %>
						<div class="col md-3 sm-4 lg-6" >   
							<div id="card-des" class="card" >
								<img  class="card-img-top" src= "https://leverageedu.com/blog/wp-content/uploads/2019/08/Course-after-MBA.png" width="190px" height="150px" alt="course"> 
								<div class="card-body">  
									<h4 class="card-text"> <%= data.name %></h4>		
									<h5 class="card-text"> <%= data.semeseter %></h5>		
									<p class="card-text"> <%= data.year %></p>		
									<p class="card-text"> <%= data.stream %></p>		
									<p class="card-text"> <%= data.code %></p>
									<form  action="/courses/<%=data.id%>/join" method="POST">
										<div class="form-group">
											<input class="form-control" placeholder="Course Code" name="code" type="text">
										</div>
										<button class="btn btn-md btn-success">Join</button>
									</form>		
								</div>
							</div>
						</div>
						<br>
				<%});%>
				<br>
			</div>
		</div>
	<% } %>

	<%// Student %>
	<% if(user.type === "Student"){ %>
		<h1 align="center">Joined Courses</h1>
		<div class="table-wrapper-scroll-y my-custom-scrollbar">
				<table class="table table-bordered table-striped mb-0">
				  <thead>
					<tr>
					  <th scope="col">Course Code</th>
					  <th scope="col">Name</th>
					  <th scope="col">Semester</th>
					  <th scope="col">year</th>
					  <th scope="col">Stream</th>
					  <th scope="col">Visit</th>
					</tr>
				  </thead>
				  <tbody>
					<% courseList_Joined.forEach(function(data){ %>
					<tr>
					  <th scope="row"><%= data.code %></th>
					  <td><%= data.name %></td>
					  <td><%= data.semester %></td>
					  <td><%= data.year %></td>
					  <td><%= data.stream %></td>
					  <td><a href="/courses/<%=data.id%>"><button class="btn btn-md btn-primary">Visit</button></a></td>
					</tr>
					<%});%>
				  </tbody>
				</table>
			  </div>
		<!---div class = "container">
			<h1>Student Course</h1>
			<h3>Joined Course</h3>
			<div class="row">
				<% courseList_Joined.forEach(function(data){ %>
						<div class="col md-3 sm-4 lg-6" >   
							<div id="card-des" class="card" >
								<img  class="card-img-top" src= "https://leverageedu.com/blog/wp-content/uploads/2019/08/Course-after-MBA.png" width="190px" height="150px" alt="course"> 
								<div class="card-body">  
										<h4 class="card-text"> <%= data.name %></h4>		
										<h5 class="card-text"> <%= data.semeseter %></h5>		
										<p class="card-text"> <%= data.year %></p>		
										<p class="card-text"> <%= data.stream %></p>		
										<p class="card-text"> <%= data.code %></p>		
									<a href="/courses/<%=data.id%>"><button class="btn btn-md btn-primary">Visit</button></a>	
								</div>
							</div>
						</div>
						<br>
				<%});%>
				<br>
			</div--->
			<h3>Available Course</h3>
			<div class="row">
				<% courseList_Avail.forEach(function(data){ %>
						<div class="col md-3 sm-4 lg-6" >   
							<div id="card-des" class="card" >
								<img  class="card-img-top" src= "https://leverageedu.com/blog/wp-content/uploads/2019/08/Course-after-MBA.png" width="190px" height="150px" alt="course"> 
								<div class="card-body">  
									<h4 class="card-text"> <%= data.name %></h4>		
									<h5 class="card-text"> <%= data.semeseter %></h5>		
									<p class="card-text"> <%= data.year %></p>		
									<p class="card-text"> <%= data.stream %></p>		
									<p class="card-text"> <%= data.code %></p>
									<form  action="/courses/<%=data.id%>/join" method="POST">
										<div class="form-group">
											<input class="form-control" placeholder="Course Code" name="code" type="text">
										</div>
										<button class="btn btn-md btn-success">Join</button>
									</form>		
								</div>
							</div>
						</div>
						<br>
				<%});%>
				<br>
			</div>
		</div>
	<% } %>

</div>
</body>
</html>
